import{r as p,j as s}from"./index-B5mQ3kpn.js";import{D as ts,a as c,g as A,b as os,P as V,d as Q,c as j,s as Y}from"./apiConstants-CECpY-gN.js";import{u as As,a as hs}from"./index-DoeqYNU0.js";const gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKvSURBVHic7d2xahRRGEfxM2tAUDBooYWIoGIVIY2FoL21haDgY6hvoBBbWwsLQV9AG7F0CxtxxcpnsLCSxESLCWKxu0l2Z77v3tnzq0ImkAv/s9kksDsgSZIkSZIkSZIkSZIkSZIkSZIkSZIkSarAsewDrLh1YAT8zjpAk/WNV9wZ4CGwAewC74AXJITgT4Acj4HN/Y9HwFXgIjAG9iIPMor8ZgLaB93mlM/fAB4Ba5GHMYB4u8DPGdfCI/ApIMcv4PqMaxcIfDowgBzfgR2mPxVAG8Fl4CM9R2AAeb7R/hV2bcb188Aleo7AAHJNSI7AAPKlRmAAZUiLwADKkRKBAZQlPAIDKE9oBAZQpgntf2k3ZlzvLAIDKFdIBAZQtt4jMIDy9RqBAdShtwgMoB69RGAAdek8AgOoT6cRGECdOovAAOrVSQQGULelIzCA+i0VgQEMw8IRGMBwLBSBAQzLhHbTQ0dgAMPzhSNE0Ox/8R3gJnAi4oQKcY75L/4dA1sN8AC4G3IkleZNA7ykfbmyVs8PXxy62v6MgA/Zp1Ca92vAK2AbuAWczj2POnSSg38JfO1bxAzTfeDenOufgKfAjgEMz6HHB98kamiOND4YwJAceXwwgKFYaHwwgCFYeHwwgNotNT4YQM2WHh8MoFadjA8GUKPOxgcDqE2n44MB1KTz8cEAatHL+GAANehtfDCA0vU6PhhAyXofHwygVCHjgwGUKGx8MIDShI4PBlCS8PHBAEqRMj4YQAnSxgcDyJY6PhhApvTxIfgmhfrnNvPHHwNbBNxK1tcGxms4+JH/jKD7CBtAvAY4NeNayI/9/xlAvD3g85TPj4EnBI4PvkVMlq/AFeAs7b2E3wLPSbh9vHKtA8ezDyFJkiRJkiRJkiRJkiRJkiRJkiRJkiRJKt5fnKS7j2Zb+/AAAAAASUVORK5CYII=",xs="/assets/male-VFLsKjvb.png",js="/assets/female-BSZQbW6w.png",vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF6SURBVHic7do5TsNgGITh94cgUVNAOlokKgoKQELiEogDcQMaJOAU9EAFQWkD4QhUUEcsQ5E4CzgLyL9tnHk6J5H9zXiJbBnMzMzMbD6FWCuWtATsAzXgJoTQibWt0pFUl9TUQEvSStFz5aIXvq2fjoueLc1CliuTVAeugY2Ur9ez3FbpTNjziaOiZ4xmhvCnRc8YjaS13kVunHNJmZ5qpeHwDu/wDu/wA2cOX0UO7/AO7/BVDj/ySEyT7+cBOsAloMhzxfABPAEnIYSX5MN+AZJqwC2wnf9suXoAtkIIbzD6RGiX6ocH2AR2koXhAv7jYf1X/azDBdwBzfxnyV0LaCQL83YRbNO9CL6O/ZWk1Sl/g9W940u4BFwC4BIAlwC4BMAlAC4BcAmASwBcAuASAJcAzPkLEokZSjgsesboppRwUfR8aTI9N0MIz8AB3aev3z1mua1S6x0J90N7/0rSctFzpYn5quwisAe8A40QwmesbZmZmZmZ/d4Xd5frldAER7gAAAAASUVORK5CYII=",ws=()=>{var C,B,y,S,R,f,E,N,P,k,L,T,U,H,I,O,M,z,F,G,Z,K;const D=As(),{pokemonId:u}=hs(),[e,J]=p.useState(),[_,m]=p.useState(!0),[l,X]=p.useState(""),W=async r=>{const a=[],n=async(i,t)=>{const g=i.species.name,o=i.evolves_to;if(o.length===0)a.push({evolvesFrom:t.map(x=>x.species.name).join(" -> "),evolvesTo:g,evolvesToImage:await b(g),minLevel:null});else for(const x of o){const d=x.evolution_details[0];a.push({evolvesFrom:t.map(w=>w.species.name).join(" -> "),evolvesTo:g,evolvesToImage:await b(g),minLevel:d.min_level?d.min_level:null}),await n(x,[...t,i])}};return await n(r,[]),a},b=async r=>{try{const a=`${V}${Q}pokemon-species/${r}`;return`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${(await j.get(a)).data.id}.png`}catch{return Y("Server Error. Please try again"),null}},q=r=>r?r/10:0,$=r=>r?r/10:0;return p.useEffect(()=>{if(u){async function r(){var a,n,i,t;try{m(!0);const g=`${V}${Q}pokemon/${u}`,o=await j.get(g),x=o.data.species.url,d=await j.get(x),w={genus:d.data.genera.find(h=>h.language.name==="en").genus},ss=d.data.egg_groups.map(h=>h.name),es={male:d.data.gender_rate*12.5,female:(8-d.data.gender_rate)*12.5},rs=d.data.hatch_counter,as={catchRate:d.data.capture_rate,baseFriendship:d.data.base_happiness,baseExperience:d.data.base_experience,growthRate:d.data.growth_rate.name},is=d.data.evolution_chain.url,ns=await j.get(is),cs=await W(ns.data.chain),ls=await Promise.all(o.data.moves.map(async h=>{const ds=h.move.url,v=await j.get(ds);return{name:h.move.name,category:h.version_group_details[0].move_learn_method.name,type:v.data.type.name,power:v.data.power,accuracy:v.data.accuracy,pp:v.data.pp}}));J({...o.data,speciesData:w,evolutionData:cs,breedingData:{eggGroups:ss,genderDistribution:es,eggCycles:rs},trainingData:as,movesData:ls}),X((t=(i=(n=(a=o==null?void 0:o.data)==null?void 0:a.types)==null?void 0:n[0])==null?void 0:i.type)==null?void 0:t.name),m(!1)}catch{Y("Server Error. Please Try Again"),m(!1)}}r()}},[u]),s.jsx("div",{className:"pokemon__all-detail",children:_?s.jsx("div",{className:"custom-loader",children:s.jsx(ts,{color:"#6750a4",loading:_,size:100,"aria-label":"Loading...","data-testid":"loader"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"all-detail__title",children:[s.jsx("div",{className:"back-to-list",style:{backgroundColor:c(l)},onClick:()=>D("/"),children:s.jsx("img",{src:vs})}),s.jsx("h1",{children:(C=e==null?void 0:e.name)==null?void 0:C.toUpperCase()}),s.jsx("div",{className:"pokemon__name",children:s.jsx("p",{style:{backgroundColor:c(l)},children:(B=e==null?void 0:e.speciesData)==null?void 0:B.genus})})]}),s.jsxs("div",{className:"all-detail__stats",children:[s.jsxs("div",{className:"stats__info",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Height"}),s.jsxs("p",{children:[q(e==null?void 0:e.height)," m"]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Weight"}),s.jsxs("p",{children:[$(e==null?void 0:e.weight)," kg"]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Abilities"}),(y=e==null?void 0:e.abilities)==null?void 0:y.map((r,a)=>{var n,i;return s.jsx("p",{className:"info__ability",style:{backgroundColor:c(l)},children:(i=A((n=r==null?void 0:r.ability)==null?void 0:n.name))==null?void 0:i.replace("-"," ")},a)})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Type"}),(S=e==null?void 0:e.types)==null?void 0:S.map((r,a)=>{var n,i,t;return s.jsxs("p",{style:{backgroundColor:c((n=r==null?void 0:r.type)==null?void 0:n.name)},className:"info__type",children:[s.jsx("img",{src:os((i=r==null?void 0:r.type)==null?void 0:i.name)}),A((t=r==null?void 0:r.type)==null?void 0:t.name)]},a)})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Forms"}),(R=e==null?void 0:e.forms)==null?void 0:R.map((r,a)=>s.jsx("p",{children:A(r==null?void 0:r.name)},a))]})]}),s.jsx("div",{className:"stats__image",children:s.jsx("img",{src:(N=(E=(f=e==null?void 0:e.sprites)==null?void 0:f.other)==null?void 0:E.dream_world)==null?void 0:N.front_default})}),s.jsx("div",{className:"stats__power",children:(P=e==null?void 0:e.stats)==null?void 0:P.map((r,a)=>{var n,i;return s.jsxs("div",{children:[s.jsx("strong",{children:(i=A((n=r==null?void 0:r.stat)==null?void 0:n.name))==null?void 0:i.replace("-"," ")}),s.jsx("div",{className:"stat-bar",children:s.jsx("div",{className:"stat-fill",style:{width:`${r.base_stat/100*100}%`,backgroundColor:c(l)},children:r==null?void 0:r.base_stat})})]},a)})})]}),s.jsxs("div",{className:"pokemon__evolution",children:[s.jsx("div",{className:"evolution__title",children:s.jsx("h1",{style:{backgroundColor:c(l)},children:"EVOLUTION CHAIN"})}),s.jsx("div",{className:"evolution__story",children:(k=e==null?void 0:e.evolutionData)==null?void 0:k.map((r,a)=>s.jsxs("div",{className:"story__pokemon",children:[s.jsx("img",{src:r.evolvesToImage,className:"pokemon__image"}),s.jsx("p",{className:"pokemon__name",style:{backgroundColor:c(l)},children:r==null?void 0:r.evolvesTo.toUpperCase()}),(r==null?void 0:r.minLevel)&&s.jsxs("div",{className:"pokemon__min-level",children:[s.jsx("p",{className:"pokemon__min-level-count",children:`Level ${(r==null?void 0:r.minLevel)??""} + `}),s.jsx("img",{src:gs})]})]},a))})]}),s.jsxs("div",{className:"pokemon__breeding-training-data",children:[s.jsxs("div",{className:"breeding-data",children:[s.jsx("h5",{children:"BREEDING"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Egg Cycles"}),s.jsx("p",{style:{color:c(l)},children:(L=e==null?void 0:e.breedingData)==null?void 0:L.eggCycles})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Egg Groups"}),s.jsx("p",{style:{color:c(l)},children:(T=e==null?void 0:e.breedingData)==null?void 0:T.eggGroups})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Gender Distribution"}),s.jsxs("div",{className:"gender-section",children:[s.jsxs("p",{style:{color:"#50C7EF"},children:[(H=(U=e==null?void 0:e.breedingData)==null?void 0:U.genderDistribution)==null?void 0:H.male,"%"," "]}),s.jsx("img",{src:xs}),s.jsxs("p",{style:{color:"#EF687E"},children:[(O=(I=e==null?void 0:e.breedingData)==null?void 0:I.genderDistribution)==null?void 0:O.female,"%"]}),s.jsx("img",{src:js})]})]})]}),s.jsxs("div",{className:"training-data",children:[s.jsx("h5",{children:"TRAINING"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Catch Rate"}),s.jsx("p",{style:{color:c(l)},children:(M=e==null?void 0:e.trainingData)==null?void 0:M.catchRate})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Base Friendship"}),s.jsx("p",{style:{color:c(l)},children:(z=e==null?void 0:e.trainingData)==null?void 0:z.baseFriendship})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Base Experience"}),s.jsx("p",{style:{color:c(l)},children:(F=e==null?void 0:e.trainingData)==null?void 0:F.baseExperience})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Growth Rate"}),s.jsx("p",{style:{color:c(l)},children:(Z=A((G=e==null?void 0:e.trainingData)==null?void 0:G.growthRate))==null?void 0:Z.replace("-"," ")})]})]})]}),s.jsxs("div",{className:"pokemon__moves",children:[s.jsx("div",{className:"moves__title",children:s.jsxs("h1",{style:{backgroundColor:c(l)},children:[" ","MOVES"]})}),s.jsxs("table",{children:[s.jsx("thead",{style:{backgroundColor:c(l)},children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Power"}),s.jsx("th",{children:"Accuracy"}),s.jsx("th",{children:"PP"})]})}),s.jsx("tbody",{children:(K=e==null?void 0:e.movesData)==null?void 0:K.map((r,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:A(r.name).replace("-"," ")}),s.jsx("td",{children:A(r.category).replace("-"," ")}),s.jsx("td",{children:A(r.type)}),s.jsx("td",{children:r.power!==null?r.power:"-"}),s.jsx("td",{children:r.accuracy!==null?r.accuracy+"%":"-"}),s.jsx("td",{children:r.pp})]},a))})]})]})]})})};export{ws as default};
